<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>summary – The STRESS Guidelines: A first update.</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../quarto_site/stars_logo_blue.png" rel="icon" type="image/png">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../quarto_site/stars_logo_blue.png" alt="" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">The STRESS Guidelines: A first update.</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../quarto_site/index.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-study-summary" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Study summary</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-study-summary">    
        <li>
    <a class="dropdown-item" href="../quarto_site/research_questions.html">
 <span class="dropdown-text">Research Questions (draft)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../quarto_site/summary.html">
 <span class="dropdown-text">Summary of early findings (draft)</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="../quarto_site/analysis.html"> 
<span class="menu-text">Analysis notebook</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#summary-of-early-findings-draft" id="toc-summary-of-early-findings-draft" class="nav-link active" data-scroll-target="#summary-of-early-findings-draft">Summary of early findings (draft)</a>
  <ul class="collapse">
  <li><a href="#overview" id="toc-overview" class="nav-link" data-scroll-target="#overview">Overview</a></li>
  <li><a href="#research-questions" id="toc-research-questions" class="nav-link" data-scroll-target="#research-questions">Research Questions</a>
  <ul class="collapse">
  <li><a href="#notes" id="toc-notes" class="nav-link" data-scroll-target="#notes">Notes</a></li>
  </ul></li>
  </ul></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/pythonhealthdatascience/stress_update/edit/main/quarto_site/summary.md" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/pythonhealthdatascience/stress_update/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">




<section id="summary-of-early-findings-draft" class="level1">
<h1>Summary of early findings (draft)</h1>
<section id="overview" class="level2">
<h2 class="anchored" data-anchor-id="overview">Overview</h2>
<p>171 studies have been reviewed that cited the original STRESS guideline in their reference lists using Google Scholar. After removing duplicates, 165 unique studies were identified. Of these, 73 studies explicitly claimed to have used the guideline to report their simulation studies. However, only 45 of these studies applied all elements of the guideline. In the remaining 28 studies, certain elements were either partially applied or omitted. For instance, while most studies reported elements such as “objective” and “logic,” many did not fully address “implementation” or “code access,” with some only mentioning parts of the implementation process.</p>
<p>Of all the studies that used the STRESS guideline, 14 were authored or co-authored by at least one of the original guideline’s developers. The fact that 14 studies involving the original authors adhered to the guideline suggests that the creators of STRESS are actively contributing to the body of research and applying their own framework.</p>
<p>In terms of journal distribution, the dataset revealed that papers were published across various journals, primarily focusing on areas related to the healthcare domain (this is further highlighted and discussed in RQ5 and Fig 4). Notable journals included Healthcare Management Science, BMJ, Health Systems, and Health and Social Care Delivery Research. However, the Journal of Simulation was the most frequently cited journal among the studies that employed the STRESS guideline, with 11 papers published in this journal. Following closely was the Winter Simulation Conference, which featured six papers utilizing STRESS.</p>
</section>
<section id="research-questions" class="level2">
<h2 class="anchored" data-anchor-id="research-questions">Research Questions</h2>
<section id="how-many-references-are-using-stress-to-document-their-model-versus-general-citation-and-discussion-how-else-has-stress-been-used." class="level4">
<h4 class="anchored" data-anchor-id="how-many-references-are-using-stress-to-document-their-model-versus-general-citation-and-discussion-how-else-has-stress-been-used.">1. How many references are using STRESS to document their model versus general citation and discussion (how else has STRESS been used).</h4>
<p>73 studies claimed to use the STRESS guideline to report their simulation work. This could be further break down to:</p>
<p>Full Use of the STRESS Guideline: 45 studies used all elements of the guideline. Partial Use of the STRESS Guideline: 28 studies applied only some elements.</p>
<p>From the 165 unique studies, subtracting the 73 that claimed to use the guideline leaves 92 studies that cited STRESS in a more general way, without directly using it to document their own models. Some papers cited STRESS to compare it with other simulation reporting framework such as the study by Pawel et al.&nbsp;(2022) and Moallemi et al.&nbsp;(2020). Researchers used STRESS to critique or discuss existing methodologies, offering insights into its strengths or limitations. Furthermore, in a study conducted by Howick et al.&nbsp;(2024), authors offer insights for extending the STRESS to encompass hybrid simulation, with a focus on SD and ABS hybridisation. Moreover, there were 17 literature reviews in the dataset (out of 165 papers), highlighting the guideline being recognised as a key framework in broader discussions within the academic community. Moreover, in a study by Nwanosike (2023), they used the STRESS checklist for assessing the quality of the simulation studies.</p>
</section>
<section id="how-has-the-used-in-terms-of-documenting-models-changed-over-time." class="level4">
<h4 class="anchored" data-anchor-id="how-has-the-used-in-terms-of-documenting-models-changed-over-time.">2. How has the used in terms of documenting models changed over time.</h4>
<p>Fig 3. Examining the studies that used STRESS over time reveals a notable increase in its adoption since its publication in 2019. The highest usage occurred in 2022, with 18 papers out of 73 employing the guideline, followed by 17 papers in both 2021 and 2023. This upward trend demonstrates growing recognition and acceptance of the STRESS guideline within the academic community. This rise may be attributed to the increasing use of simulation studies, where clear reporting standards become essential for transparency and reproducibility. It also highlights the importance of continuing to update and refine the guideline to ensure it meets the evolving needs of simulation researchers.</p>
</section>
<section id="what-is-the-breakdown-of-the-literature-that-used-stress-for-des-sd-and-abs" class="level4">
<h4 class="anchored" data-anchor-id="what-is-the-breakdown-of-the-literature-that-used-stress-for-des-sd-and-abs">3. What is the breakdown of the literature that used STRESS for DES, SD and ABS</h4>
<p>Fig 2. In terms of simulation methods, DES was the most commonly used, appearing in 38 papers, followed by ABS in 14 papers. Additionally, seven studies employed hybrid simulation approaches, underscoring the need to extend the guideline to better accommodate the reporting of hybrid simulations. There were also five SD models which used the guideline. Additionally, while the original STRESS guideline did not specifically address reporting for Monte Carlo simulations, six studies employing Monte Carlo simulation have nonetheless utilised the STRESS guideline. Notably, one of these studies found that STRESS-DES was more closely aligned with the principles of Monte Carlo simulation (study no 63, Denz et al., 2023).</p>
</section>
<section id="has-stress-been-used-to-document-any-hybrid-simulation-models-if-so-how-has-it-been-used-e.g.-multiple-checklists-have-modifications-been-introduced-have-alterantive-guidelines-been-used" class="level4">
<h4 class="anchored" data-anchor-id="has-stress-been-used-to-document-any-hybrid-simulation-models-if-so-how-has-it-been-used-e.g.-multiple-checklists-have-modifications-been-introduced-have-alterantive-guidelines-been-used">4. Has STRESS been used to document any hybrid simulation models? If so how has it been used (e.g.&nbsp;multiple checklists); have modifications been introduced have alterantive guidelines been used?</h4>
<p>Yes, STRESS has been utilized to document hybrid simulation models, as evidenced by the seven studies that employed hybrid simulation approaches while referencing the guideline. - Three DES+ABS, - Two SD+ABS, - One ABS+SD+DES - and, one Monte Carlo + machine learning Researchers may have integrated elements from both STRESS and other relevant guidelines to comprehensively report their hybrid models such as the study by Allen et al.&nbsp;(2020) which used TRIPOD protocol for reporting machine learning and STRESS for Monte Carlo. Some of these studies have adapted the STRESS guideline to better fit the unique requirements of hybrid simulations, potentially introducing modifications or additional reporting elements tailored to the complexities of these models. For example, in the SD+ABS model of Shukla et al (2022), they employed the guideline in a structured way in the paper’s main text, although not all aspects of their ABS model has been reported (while most of the elements have been reported for SD, only the logic element has been described for ABS).</p>
</section>
<section id="what-are-the-fields-of-application-where-stress-has-been-used-e.g.-manufacturing-healthcare-etc" class="level4">
<h4 class="anchored" data-anchor-id="what-are-the-fields-of-application-where-stress-has-been-used-e.g.-manufacturing-healthcare-etc">5. What are the fields of application where STRESS has been used? (e.g.&nbsp;manufacturing, healthcare etc)</h4>
<p>Fig 4. In terms of application areas, the STRESS guideline has been predominantly applied in healthcare, with 56 out of 73 studies falling within this domain. These studies encompassed various case studies and operational research problems, including staffing, patient flow, disease transmission, and disease diagnosis. The second application area, after healthcare, is supply chain and operations, which includes sectors such as the food industry, drug industry, mining operations, and supply chain financing. Additionally, a few studies addressed other application areas, including hospitality and tourism, water resource management, business analytics, and geography and environmental science.</p>
</section>
<section id="how-did-authors-use-stress-to-document-their-models." class="level4">
<h4 class="anchored" data-anchor-id="how-did-authors-use-stress-to-document-their-models.">6. How did authors use STRESS to document their models.</h4>
<p>Checklist supplement pointing to paras, lines etc? Sections within the main paper or appendix? Something else? Fig 6. The authors of papers utilising the STRESS guideline were classified based on how they documented their models into three categories: checklist, structured, and unstructured formats.</p>
<p>A. Checklist Format: This format was employed in 19 papers, primarily located in the appendix rather than the main text. Most of these papers utilised the same checklist provided in the original STRESS guideline.</p>
<p>B. Structured Format: A structured format was identified in 32 papers, where authors provided detailed descriptions referencing all or some of the STRESS elements. This format was predominantly found in the main text, with 26 papers incorporating it there and 6 using it in the appendix.</p>
<p>C. Unstructured Format: The unstructured format was present in 19 papers, where authors mentioned the STRESS elements in a less organised manner. Of these, seven papers included references to the elements in the main text, while 12 did so in the appendix. Locating the STRESS elements in these papers often required additional time and effort due to the lack of systematic organisation.This challenge may hinder reproducibility and transparency of simualtion studies.</p>
<p>The prevalence of the checklist format, particularly in the appendix, suggests that researchers value the straightforwardness of this method but may not prioritise its visibility in the main text, possibly due to word count limitations.</p>
</section>
<section id="are-there-any-sections-of-stress-that-caused-authors-problems" class="level4">
<h4 class="anchored" data-anchor-id="are-there-any-sections-of-stress-that-caused-authors-problems">7. Are there any sections of STRESS that caused authors problems?</h4>
<p>Certain elements of the STRESS guideline, particularly those related to implementation—such as model execution and random sampling—were mentioned less explicitly and less frequently compared to other elements. However, authors did not provide specific reasons for these omissions; many simply neglected to include certain components without justification.</p>
<p>Regarding the objective element, the aims of the experiments were discussed less frequently across the simulation studies. Similarly, the algorithms and model components within the logic elements received limited reporting, indicating a general lack of emphasis on these foundational aspects.</p>
<p>In terms of the data element, while authors predominantly covered data sources and input parameters, assumptions and preprocessing steps were among the most overlooked aspects in simulation reporting. Additionally, the estimation approach outlined in the experimentation elements garnered limited attention from authors.</p>
<p>Finally, the code access element was referenced in 38 studies that employed the STRESS guideline. A further assessment of the papers that provided a code access statement revealed that most authors shared their source code through links to repositories such as GitHub or included it as an appendix (23 papers). Eleven studies indicated that the code would be available upon request, while a few papers mentioned confidentiality reasons for not sharing the model or stated that they would provide it in future publications.</p>
</section>
<section id="how-has-each-section-of-stress-been-used-do-any-need-to-be-clarified-or-rephrased" class="level4">
<h4 class="anchored" data-anchor-id="how-has-each-section-of-stress-been-used-do-any-need-to-be-clarified-or-rephrased">8. How has each section of STRESS been used? Do any need to be clarified or rephrased?</h4>
<p>Refer to answer for question no 7.</p>
</section>
<section id="are-additional-sections-or-modifications-to-sections-needed-to-improve-model-reporting-unclear-if-a-review-will-answer-this-question." class="level4">
<h4 class="anchored" data-anchor-id="are-additional-sections-or-modifications-to-sections-needed-to-improve-model-reporting-unclear-if-a-review-will-answer-this-question.">9. Are additional sections or modifications to sections needed to improve model reporting (unclear if a review will answer this question.)</h4>
<ul>
<li>One study has mentioned to the need for validation and verification section (Achter et al., 2022).</li>
<li>Given the increasing prevalence of hybrid simulations combining various methodologies, there may be a need for dedicated sections addressing the unique reporting requirements for these models. This could include guidelines on integrating different methods and presenting their interactions.</li>
<li>Adding/ introducing some papers outlining good practices could improve the use of the guideline, particularly, the sections that are under represented in the reports such as those that mentioned in question no 7.</li>
</ul>
</section>
<section id="what-modifications-are-needed-to-document-a-hybrid-model" class="level4">
<h4 class="anchored" data-anchor-id="what-modifications-are-needed-to-document-a-hybrid-model">10. What modifications are needed to document a hybrid model?</h4>
<ul>
<li>The aim/ reason for hybridisation.</li>
<li>The specific components and interactions between them.</li>
<li>The data exchange method between the models, interaction rules, and synchronisation.</li>
</ul>
</section>
<section id="notes" class="level3">
<h3 class="anchored" data-anchor-id="notes">Notes</h3>
<ul>
<li>Study No.&nbsp;25: Wood et al., 2020: The STRESS study was fully used but not cited - however, it showed up in the cited results!</li>
<li>Study No.&nbsp;43 provides valuable insights for extending the guideline to incorporate hybrid simulation approaches, particularly a conceptual framework for hybrid Agent-Based Modeling and System Dynamics (ABM+SD) models.</li>
<li>Study No.&nbsp;51: Gadomski et al.&nbsp;(2021): The authors claim to have used the guideline, but there is no evidence supporting this claim.</li>
<li>Study No.&nbsp;64: Conlon &amp; Molloy (2023): This study refers to supplementary material for the guideline; however, I could not find the mentioned supplementary section or file.</li>
<li>Study No.&nbsp;113: Saville et al.&nbsp;(2022): The authors did not claimed the use of STRESS but there are some elements of the guideline (it might be due to the fact that the simulation is not the focus of the study instead the classification is)</li>
<li>Study No.&nbsp;115: Birchansky et al.&nbsp;(2021): I doubt that they used STRESS. Except for the name, no elements has been mentioned altough some concepts of the elements are included.</li>
<li>Study No.&nbsp;138: Stokes (2020): Reassessment needed! Although the author claims to have used the guideline, I was unable to locate the elements within the text.</li>
<li>Study No.&nbsp;161: Hajlasz (2023): This thesis is not in English, so analysis has not been conducted. However, it appears that the author may have used the guideline. Further language support is needed for assessment.</li>
</ul>


</section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/pythonhealthdatascience\.github\.io\/stress_update\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




<footer class="footer"><div class="nav-footer"><div class="nav-footer-center"><div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/pythonhealthdatascience/stress_update/edit/main/quarto_site/summary.md" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/pythonhealthdatascience/stress_update/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></div></div></footer></body></html>